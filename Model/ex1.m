function y =ex1(inputs)
    NumInputs=8;
    NumMF=2;
    NumRules=256;
    NumData=size(inputs,1);
    Nodes=zeros(793,2);
    MFparams=[0.37274     0.36916      1.0691    -0.89207     0.10967;
    0.35528     0.49327      1.0474      1.0429     0.23651;
    0.37839     0.43911      1.0107    -0.92963     0.43069;
    0.40828     0.50388     0.99851      1.0692      0.4956;
    0.33757     0.44576      1.0054    -0.94358     0.46831;
    0.45741     0.51633     0.97556      1.0665     0.61286;
    0.41668       0.508       1.001    -0.97921     0.48855;
    0.35822     0.42944      1.0257      1.0091     0.36475;
    0.41165     0.49219     0.99984    -0.99083     0.50023;
    0.37875     0.45516      1.0132      1.0057     0.42357;
    0.10137     0.11289      1.0048      1.0421     0.48491;
    0.034304    0.029524      1.0114      1.3908     0.39995;
    0.21584     0.23613     0.99024     0.61924     0.55381;
    0.13394     0.16604      1.0046      1.4222      0.4644;
    0.19438     0.23551     0.99477     0.61751     0.52921;
    0.15548     0.16632      1.0032      1.4061     0.49518];
    Cparams=[1.1733     0.11639    -0.14345     0.75097    -0.30796     0.61601     -0.1114   -0.047006   -0.079202;
    1.2411    -0.10477    -0.48921     0.39376    -0.25571     0.26628   -0.053362    -0.20749    -0.13043;
    1.1863    0.095618     -0.7567   -0.055706      0.2874    -0.18923     0.17204   -0.085671    0.043183;
    0.6952   -0.039279    -0.31568     0.10471     0.36311    0.039583     0.13048    -0.16089   -0.015205;
    0.92851    0.025807    -0.37829     0.34257     0.13511     0.41527   0.0084245     -0.2207    -0.10614;
    1.5213     0.15177    -0.50206      0.1488    -0.13009   -0.053289    0.052531    0.067689     0.06011;
    0.99207      0.1311     -0.4934     0.33377      -0.209  -0.0074305     0.02009   -0.070143   -0.025026;
    0.97457     0.35709    -0.38835    0.072073    0.078245   -0.010499    0.069245   0.0094698    0.039358;
    0.17368    -0.09627     0.15756    0.075455     0.15802     -0.1204     0.15954    -0.23047   -0.035467;
    -0.086895     -0.3298      0.4056     0.50846    -0.30287    0.084805     0.11787    -0.52205    -0.20209;
    0.78322     0.10091    -0.28486      0.5668     -0.1061     0.33304    0.021075    -0.19989   -0.089407;
    0.2071    0.010476      -0.117     0.20801     0.23695     0.32508     0.15143    -0.58518    -0.21688;
    0.20547    -0.17593    -0.27509     0.24687    -0.14578   -0.075756    0.077856    -0.48001    -0.20108;
    0.68049     0.37458      0.3892     0.29777    -0.18377     0.54765    -0.23843  -0.0072877    -0.12286;
    0.67994     0.12028    -0.18291     0.43247    0.010855     0.37916      0.1457     -0.4122    -0.13325;
    0.614     0.12639    -0.47613     0.67608     0.31314     0.33807     0.25129    -0.24735    0.001967;
    0.3886    -0.20862    -0.56651     0.67968     0.11601     0.14699     0.23494    -0.45683    -0.11095;
    0.25346   -0.040477    0.040433     0.28886    -0.25002    -0.19833     0.19911    -0.34282   -0.071856;
    0.10097    -0.35083    -0.26245     0.41052    -0.20677    -0.41336     0.43316    -0.62573   -0.096283;
    0.54765    0.080471    -0.37771     0.53641     0.15311      0.2501     0.23383    -0.37935   -0.072758;
    0.22332    -0.22658    -0.48191      1.1635    -0.15165     0.31519     0.25897    -0.55872    -0.14987;
    0.15091  -0.0022745    0.086934     0.34604      0.3058     0.27405      0.1588    -0.34954   -0.095373;
    0.51387    -0.12386    -0.61117     0.42555      -0.118  -0.0015417     0.11396    -0.43786    -0.16195;
    0.0080022   -0.062554    -0.12453    -0.12216    -0.30877     -0.1599     0.10082    -0.78887    -0.34402;
    0.26333     -0.2354    -0.67514     0.50468    0.040761    -0.19858     0.36935     -0.5564   -0.093526;
    0.34502    -0.13508    -0.56438     0.33294    0.039889    -0.13859     0.25116    -0.44264    -0.09574;
    0.21239     0.10021     0.31336    0.036299   0.0015894    0.071961   -0.013633    -0.14984   -0.081735;
    0.40634    0.085809     -0.2462     0.45074     0.27674     0.32736    0.043095    -0.14631   -0.051606;
    0.44612     0.14179    -0.11082     0.26565     0.11045     0.21533     -0.1043   -0.018826   -0.061561;
    0.28535   -0.040069    -0.30961     0.18564   -0.075858    -0.14914    0.041643    -0.22703   -0.092694;
    0.20218    -0.63771     0.38315     0.57596    -0.41057     0.08088    0.018366    -0.37878    -0.18021;
    0.2697     0.35995     0.44479    -0.14895     0.12471    -0.26129    0.066443     0.26476      0.1656;
    0.40914    0.078425    -0.12527     0.55892   -0.042342     0.25267    0.075512    -0.21359   -0.069037;
    0.033372  -0.0033096     0.31451     0.16679     0.16169    -0.20991     0.29414     -0.1665    0.063822;
    0.20355   -0.099518    -0.31952     0.38458    0.033398    -0.10509     0.17957    -0.25727   -0.038854;
    0.33107    -0.10979    -0.51198     0.67718     0.29518    0.049508     0.47545    -0.42449    0.025481;
    0.31561    -0.16212    -0.53724      0.5498    0.099432     0.17922     0.18714    -0.49251    -0.15268;
    0.078224    0.089348     0.17013     0.27241    0.039395    -0.21971     0.30076    -0.14969    0.075536;
    0.071614    -0.18207     0.64615     0.33996   -0.050811    -0.29071      0.3111   -0.012588     0.14926;
    0.17398     0.06231   -0.040997    0.087478     0.13861     0.35491     0.24146    -0.78511    -0.27183;
    0.13917    -0.12889    -0.31425     0.13966    0.011252     0.17544   -0.044025    -0.47845    -0.26124;
    0.28019     0.12747    0.073029    -0.12545    -0.16752    -0.11229     -0.1023    -0.11389     -0.1081;
    0.26359    0.060295   -0.063273     0.32254    0.056984     0.38752     0.02817     -0.4204    -0.19611;
    0.30185    0.067719   -0.050139     0.60564     0.22559    0.092355     0.31873    -0.12326     0.09774;
    0.31283    0.066705   -0.044066     0.44746    0.064384     -0.1958     0.15653     0.18879     0.17266;
    0.33966      0.1871   -0.073494     0.26782      0.2287     0.35028   -0.030724    -0.10778   -0.069253;
    0.25358     0.10947    0.037686     0.31979     0.22028    0.019069     0.23116    -0.12138    0.054892;
    0.16968    -0.21257    -0.40914     0.38444      0.0237   0.0012722    0.043684    -0.25255    -0.10443;
    0.096342   -0.066843    -0.18319     0.35022     0.10538    -0.11399     0.13024    -0.11967   0.0052855;
    0.00949     -0.2085     0.31016     0.15353    0.049743   -0.015122     0.10863    -0.31296    -0.10217;
    0.030184    -0.28098    -0.40549     0.33566    0.013513    -0.18939     0.23111    -0.43379    -0.10134;
    0.19937    0.029667   -0.038813     0.22556     0.14236   -0.011993     0.18306    -0.19489  -0.0059126;
    0.37446    0.062808    -0.19868     0.26653    0.085323      0.1256     0.33888     -0.6501    -0.15561;
    0.31692    0.024531    -0.19155     0.28146   -0.025649    0.087181   -0.044441   -0.078361   -0.061401;
    0.15669   -0.046854    -0.12878     0.21561     0.10136    0.051236    -0.18096     0.10441   -0.038277;
    0.30439   -0.061326    -0.36021     0.36916    0.076005   -0.061107     0.28808    -0.40455   -0.058237;
    0.41443    0.029519     -0.1866     0.54845     0.10316     0.36695     0.14315    -0.34119    -0.09902;
    0.16084   -0.019497    -0.15329     0.35371      0.1907   -0.064725    0.035326       0.064    0.049663;
    0.22583    -0.12734    -0.38252     0.54974     0.16614    -0.16153     0.17401  -0.0058024    0.084105;
    0.2547    -0.18118    -0.48956      0.6808     0.11855     0.17156   -0.098916   0.0079119   -0.045502;
    0.31892     0.13551   -0.036039     0.10282    0.019565    0.061705    0.035117    -0.18064    -0.07276;
    0.19678     0.11694      0.1293     0.14389    0.039304  -0.0089837   -0.037379     -0.0632    -0.05029;
    0.29941    -0.15219    -0.52682     0.53712    0.054025      0.1209   -0.030838    -0.18037    -0.10561;
    0.15095     0.26583     0.30913    0.084314     0.20673     0.24558     0.18664      -0.315   -0.064181;
    0.078133    -0.27197   -0.060476     0.58386      0.0816    -0.22986     0.54669    -0.38621    0.080241;
    0.33329    0.015413    -0.16708     0.27056   -0.050432     0.11741    0.095119    -0.31726    -0.11107;
    0.45139     0.15734   -0.043998     0.12193   -0.045857       0.131    0.065026    -0.27266    -0.10382;
    -0.18321     0.20765    0.095976     0.16748    0.032341    0.041072      0.1518    -0.32542    -0.08681;
    0.38882    -0.04099    -0.41824     0.33558    -0.12511     0.12472     0.18741    -0.47676    -0.14468;
    0.59215      0.2725   0.0053746    0.071933    -0.15423     0.17747    0.010223   -0.098123    -0.04395;
    0.44051   -0.062586    -0.50096     0.47822     0.04902    -0.16954     0.21603 -0.00018082     0.10792;
    0.14677   -0.067782     -0.2207     0.27847     0.15666   0.0099167    -0.26636     0.36583    0.049739;
    0.044039    -0.13883    -0.21039     0.46092     0.16993    0.046705     0.10439    -0.15845   -0.027031;
    0.19779   0.0084875   -0.049622      0.4806    0.089075     0.14568     0.15963    -0.24933   -0.044848;
    0.46859   -0.034365    -0.37813      0.4598   -0.041855     0.13875     0.17247    -0.39766    -0.11259;
    0.24201    0.010188    -0.19805     0.28023     0.15076    0.087496    -0.02015    -0.16794   -0.094047;
    0.35129   -0.029921    -0.26728     0.59568    0.061786    0.010371     0.17251    -0.13983    0.016338;
    0.43329      0.2072    0.021518     0.20827    0.032997   0.0099273     0.20625     -0.2364   -0.015074;
    0.22331    0.073084    -0.18969     0.80572    -0.30574     0.02917   0.0036915   -0.052342   -0.024325;
    0.19895   -0.011878    -0.16161     0.27383     0.16921    0.022096     0.14073    -0.21645   -0.037858;
    0.37049   -0.022519    -0.36699     0.43733    0.025086    -0.02683     0.10192    -0.10155  0.00018558;
    0.30324   -0.049865    -0.28166     0.46301   -0.020762    0.094285     0.22181    -0.38035    -0.07927;
    0.039897    -0.27007    -0.51154      1.4512    -0.27027    -0.10954     0.35852    -0.18899    0.084764;
    0.36677    0.018531    -0.19451      0.4425     0.15494      0.3398    0.085885    -0.35977    -0.13694;
    0.40918    0.023371    -0.30326     0.71289     0.10712  -0.0076773     0.30981    -0.18729    0.061255;
    0.26319   -0.036326    -0.26321     0.51471     0.15519   -0.018146     0.22126    -0.13561    0.042828;
    0.011482    -0.12286   -0.068373     0.46573     0.20844     0.11503   -0.044209    0.055895   0.0058431;
    0.60648     0.20921     -0.1571      0.2602  -0.0023839     0.34342    -0.15634  -0.0047967   -0.080569;
    0.30348   0.0092605    -0.30194     0.48315     0.23376     0.43535    0.050775    -0.26043    -0.10483;
    0.13898   -0.052449    -0.20855     0.38917     0.22293    -0.04986    0.055168     0.10092    0.078046;
    0.22889     0.16532    0.015915       0.262     0.11487    0.092346    -0.24383     0.31617    0.036173;
    0.12083   -0.035242   -0.088837     0.54713     0.18766     0.26167     -0.1659  0.00090163   -0.082499;
    0.38469    -0.11548    -0.48325     0.71567     0.19836  -0.0067316      0.1382    -0.07037    0.033917;
    0.42015    0.051161    -0.20714     0.42745     0.22572    -0.16639    0.086395    0.090366    0.088381;
    0.38065    0.036172    -0.40958     0.90153      0.1449     0.10351    0.015941    0.043493    0.029717;
    0.11452   -0.029113   -0.074019     0.52439     0.22462   -0.037848    0.014865     0.01295    0.013907;
    0.38734   -0.036553    -0.31054      0.7366 -0.00042105   -0.032973     0.10778   -0.082915    0.012431;
    0.31081    0.070212    -0.12004      0.4883     0.22453    -0.11776     0.34465    -0.22311    0.060769;
    0.30767    0.081425   -0.092443     0.40514     0.16206     0.11605    0.070842    -0.22833   -0.078744;
    0.35035   0.0096595    -0.23866     0.41984     0.12954      0.4271     0.12345    -0.73902    -0.30779;
    0.26311   -0.079222    -0.39507     0.63232     0.18718    -0.01119    -0.16684      0.1195    -0.02367;
    0.2888    -0.16231    -0.31464     0.74846      0.0731    -0.28615   -0.014295     0.17242    0.079062;
    0.51069   -0.032493    -0.49901     0.69181     0.15405     0.30936     -0.2518   -0.025326    -0.13856;
    0.050267   -0.030821   -0.014628     0.60237     0.29321    0.046653   -0.052756   -0.044001   -0.048379;
    0.29746    0.032296   -0.073278     0.47433     0.13372    -0.19813   -0.044378      0.1686    0.062111;
    0.4467  -0.0074377    -0.45064     0.70602     0.20882   -0.076527       0.194    -0.14327    0.025369;
    0.31506     0.13703   -0.046375     0.27662     0.10715    -0.19261    0.018646    0.040684    0.029665;
    0.17427   -0.055033    -0.18928     0.58457     0.24892    0.084758     0.26569    -0.46086   -0.097586;
    0.27705   0.0045995    -0.21102     0.47501    0.088291    -0.08997   -0.060431   -0.010446   -0.035438;
    0.30919   -0.061141    -0.37602     0.63282     0.18611   -0.064273    -0.18334     0.23232    0.024489;
    0.37195    0.055022    -0.14379     0.61792     0.30446     0.18834     0.20754    -0.30574   -0.049102;
    0.30679     -0.1803    -0.35797     0.77021     0.21975     0.14574    -0.18777    0.063786    -0.06199;
    0.59558     0.45538     0.22753     0.23479     0.15978   -0.049978     0.14831    0.080245     0.11428;
    0.37643    0.041046    -0.19495     0.44914    0.097736    -0.02262   -0.042321   -0.042618   -0.042469;
    0.19091    -0.13786    -0.32326     0.82544   -0.095354     0.05918    -0.25702     0.38945    0.066213;
    0.16376    -0.14202     -0.3592     0.72139     0.29169      0.1281    -0.10784     0.03121   -0.038314;
    0.25439   -0.023917     -0.2639     0.47015     0.24259      0.2389    -0.54185     0.36111   -0.090371;
    0.19887     0.01566   -0.078737     0.43664     0.29449  0.00021691   -0.019457    0.035325   0.0079337;
    0.47452     0.14217  -0.0099099     0.43441   -0.030914    -0.10672    -0.17394     0.26058    0.043316;
    -0.0090781     -0.3614    -0.41243     0.95293     0.29608   -0.078118    -0.18115     0.22999    0.024418;
    0.71864   0.0089214    -0.69003     0.80906    0.077024  -0.0042539    -0.28032     0.28228  0.00097783;
    0.23712    0.026287    -0.13596     0.44755     0.21088  -0.0042505    -0.12601    0.095408   -0.015299;
    0.40267    -0.21569    -0.75427     0.90373     0.20678     0.28162   -0.079062    -0.32032    -0.19969;
    0.15982    -0.11402    -0.25592     0.62751     0.36256    -0.16944     0.36912    -0.30372      0.0327;
    0.38737    0.017969    -0.28401     0.52809     0.17222    -0.28829     0.16359   -0.091662    0.035965;
    0.4681  -0.0094797    -0.37992     0.77711     0.27154    -0.11795      0.4083    -0.36508    0.021612;
    0.24952     0.19233     0.16437     0.12856     0.21243    0.044692    -0.19733     0.11674   -0.040297;
    0.36372    0.041471   -0.063347     0.53597    0.048305     0.30949    0.095696    -0.38835    -0.14633;
    0.68526   -0.090636    -0.78262     0.78081   -0.067512    -0.48284     0.30203     0.12082     0.21143;
    0.42595   -0.072205    -0.45758     0.65109     0.11546     0.22673    0.090474    -0.37541    -0.14247;
    0.30201      0.1315   -0.017569     0.27804     0.16413      0.2704  -0.0088344    -0.26534    -0.13709;
    0.15686    -0.12723    -0.35701     0.58178     0.19484   -0.043184   -0.037582    0.088366    0.025392;
    0.55532  -0.0051928    -0.53543     0.72277     0.10225     0.19386   -0.038485   -0.093509   -0.065997;
    0.67974    -0.07306    -0.63485     0.83157    0.071985     0.18028     0.11564    -0.23323   -0.058794;
    0.091479    -0.28931    -0.55291     0.72296      0.2098    -0.40275    0.024323     0.30918     0.16675;
    0.26566    0.064319    -0.13617     0.53678    0.092162     0.27981     0.02727    -0.29448    -0.13361;
    0.52134    0.066932    -0.33088     0.38299    0.011929    0.037592    -0.17518       0.146   -0.014588;
    0.43615     0.36282     0.20902     0.07919    0.095279   -0.033137     0.25636    -0.21101    0.022672;
    0.23248    0.014515   -0.049472     0.42056    0.088047   -0.088594    0.015689    0.056528    0.036108;
    0.41763   0.0030271    -0.38803      0.6044     0.10588     -0.2946   -0.011423     0.24512     0.11685;
    0.49094    0.068237    -0.14853      0.4387     0.24806    -0.15974   -0.037287    0.018072  -0.0096072;
    0.4826     0.18742    -0.11739     0.56272     0.14581   -0.038326    0.018071    -0.10454   -0.043236;
    0.14336    -0.12484     -0.1855      0.5982     0.29047     0.46256    -0.34466    -0.12398    -0.23432;
    0.32081    0.079734   -0.064985     0.52262     0.10386    -0.22993    0.031762     0.17185      0.1018;
    0.35584     0.18207    0.013628     0.31737     0.29395     0.14077    0.056962    -0.16816     -0.0556;
    0.22465   0.0034015    -0.12385     0.48355    0.078126    -0.13311    -0.23985     0.42082    0.090486;
    0.45713   -0.058098    -0.49492     0.77201     0.05015    0.085041     -0.1205     0.17413    0.026815;
    0.39126    0.041561    -0.27784     0.56658     0.18598    -0.10498     0.12943     0.10789     0.11866;
    0.33287   -0.041223    -0.31923     0.57631     0.24746   -0.073688      0.2927   -0.034027     0.12934;
    0.38945     0.03627    -0.24025       0.647     0.32571    0.073962    -0.10954   -0.059494   -0.084516;
    0.158       -0.17    -0.50895     0.82749     0.21361   -0.034023    -0.24417     0.29935    0.027589;
    0.65469     0.23242    -0.21283     0.46425    -0.02373     0.06279   -0.053422   -0.017966   -0.035694;
    0.25694    0.020961   -0.042944     0.47162     0.17171    0.090874    -0.26406     0.21184   -0.026113;
    0.48234     0.14958    -0.18273     0.54371     0.27618   -0.011224    0.083109   -0.037422    0.022843;
    0.44236     0.21154   -0.050642     0.37466      0.1129     0.27662    -0.27045    0.012156    -0.12915;
    0.53441    0.094546    -0.27475     0.64674     0.10685     0.21134   -0.075288    -0.14925    -0.11227;
    0.093863    -0.11571    -0.17725     0.54691     0.45958    0.079195    -0.12329   -0.027382   -0.075335;
    0.18133     0.17637     0.17653     0.18014     0.23097  -0.0094258    -0.20795     0.21632   0.0041864;
    0.63125     0.21921    -0.20778     0.59711    -0.13706     0.10641    -0.11837    -0.05756   -0.087965;
    0.35953   -0.038353    -0.28598     0.60253    0.016203    -0.22887     0.10945     0.11673     0.11309;
    0.14773   -0.072729   -0.095897     0.48972     0.11144    -0.11637    0.078644    0.027336     0.05299;
    0.32375    0.034552    -0.21443     0.38284    0.073205     0.11184    -0.10527    0.040425   -0.032423;
    0.33992   -0.034398    -0.35979     0.60327     0.14292    0.092071   -0.047736   -0.082726   -0.065231;
    0.24387     0.14272     0.04255     0.13077    0.082432   -0.090395      0.1177    0.087746     0.10273;
    0.48146   -0.095928    -0.56127      0.9781    -0.13359    0.080462    -0.30984     0.20115   -0.054348;
    0.28246     0.14524  -0.0073192     0.36593     0.26038     0.05697    0.023646    -0.10226   -0.039306;
    0.21156   -0.037099    -0.22323     0.50693     0.27963    0.076038   -0.083846    0.019698   -0.032074;
    0.85574     0.10807    -0.69945     0.69563    0.069919  -0.0085851    0.057525    -0.10027   -0.021374;
    0.36174   -0.074255    -0.23378     0.71764     0.17917  -0.0078391   -0.051599   -0.039726   -0.045662;
    0.18149   0.0073422    -0.12344     0.43737     0.29691   -0.045845    -0.13042    0.085096   -0.022661;
    0.36474       0.118   -0.022178     0.35115    0.028897    0.055174   -0.069762   -0.015077    -0.04242;
    0.24353    0.092382   -0.062055     0.51626     0.29434    -0.05585    0.036226   -0.068838   -0.016306;
    0.23957   -0.032373    -0.21523      0.5287     0.17252    0.024981   -0.026143    0.042795   0.0083257;
    0.28542    0.032025    -0.16344     0.46519     0.14155    -0.02646   -0.011457     0.01246  0.00050103;
    0.23493     0.18171     0.15639     0.11416    0.099703   -0.088073  -0.0018042     0.10047    0.049332;
    0.22885    -0.10106    -0.33444     0.50136     0.17126   -0.026389    -0.30346     0.36011    0.028325;
    0.42497    0.090619    -0.15664     0.32768   -0.048535    0.054777    -0.14105     0.22022    0.039586;
    0.52643      0.1946    -0.18471     0.60231   -0.098851    0.031369     0.10326    -0.14161   -0.019175;
    0.30183    0.050541    -0.20506     0.48824   -0.026489    -0.16993      0.1648    0.055893     0.11035;
    0.3023     -0.1543    -0.44609     0.64624     0.14245   -0.030902      0.1257   -0.022379     0.05166;
    0.25507    -0.17434    -0.42713     0.78419     0.06798     0.33473    -0.14982   -0.013135   -0.081477;
    0.13647   0.0071737   -0.026587     0.32183     0.12023    0.042072    -0.22106     0.22837   0.0036543;
    0.26395    -0.10934    -0.37022     0.62314      0.2356    0.027356   -0.075892   -0.026723   -0.051308;
    0.30927    0.017611    -0.20959     0.38652     0.13089     -0.1856     0.02222     0.13874     0.08048;
    0.41962   -0.087373    -0.11731     0.57914    -0.25129    0.014027    -0.12954      0.1727    0.021578;
    0.12059    0.074215     0.14993    0.095085    0.013892    0.026408    -0.30934     0.37322    0.031939;
    0.1552    -0.14113    -0.36297     0.72082    -0.10868    0.035159    -0.19093     0.28963     0.04935;
    0.37679    -0.27955    -0.57156     0.70604    -0.20178    -0.20859   -0.098113     0.44721     0.17455;
    0.12222   -0.043312    -0.19315     0.35308    0.093387      0.3096    -0.35951     0.25526   -0.052126;
    0.079438    -0.14115     -0.1429     0.36859    0.081374     0.22429    -0.24442     0.23598  -0.0042194;
    0.095707    -0.31718    -0.60713     0.97161     -0.3598    -0.21931    -0.02308     0.48362     0.23027;
    0.17309    0.089112    0.070695     0.17608    -0.14106     0.28224    -0.16104    0.080828   -0.040107;
    0.19652    -0.15272    -0.31351     0.33846    -0.01941     0.21658    -0.17314     0.19759     0.01223;
    0.34882    0.091458   -0.066813     0.16814    -0.04172    0.024497   -0.057343     0.21145    0.077054;
    0.44127     0.10299    -0.38361     0.46205  -0.0096245    -0.12618   -0.048553     0.19365    0.072548;
    0.18366   -0.037627   -0.087646      0.2544     0.18619     0.09183    -0.11853     0.12174   0.0016039;
    0.51147   -0.013515    -0.27172      0.4279   -0.048818    -0.15005     0.22741    0.046727     0.13707;
    0.56436     0.28141   0.0088182     0.70287    -0.41172     0.10863     0.14765    -0.25354   -0.052946;
    0.25455    -0.14477     -0.4889     0.56963     0.18199     0.03211    -0.19016     0.19586   0.0028466;
    0.28764   -0.027639     -0.2435     0.60916      0.2361    -0.15999    -0.23701     0.17431   -0.031352;
    0.11347    0.043079     0.34139     0.13357       0.138    -0.06388   0.0094784     0.11073    0.060106;
    0.37399    0.054624    -0.31499     0.46784     0.17738    -0.41223     0.06077      0.1784     0.11959;
    0.46865   -0.093306    -0.62428     0.60903    0.067249   -0.036165    -0.11903     0.16356    0.022267;
    0.34036    -0.01014    -0.14276     0.59181    0.052653    -0.02118   -0.095819    0.016465   -0.039677;
    0.70073     0.14769    -0.21029     0.41727   -0.030263    -0.30929    -0.29164     0.30771   0.0080351;
    0.19452    -0.09423    -0.32708     0.50369     0.25035     0.16757    -0.28347    0.060887    -0.11129;
    0.23345    0.099312   -0.016947      0.3888     0.19407     -0.2352   -0.091517     0.13154    0.020014;
    0.30132     0.10308     0.10271     0.27707    0.065512    -0.13283   -0.097968     0.15365     0.02784;
    0.48021    0.061974    -0.25973     0.70066   0.0022766   -0.072469     0.10559    -0.13763   -0.016018;
    0.27787    0.027724    -0.20511     0.48679      0.1216   -0.051221    -0.14691     0.11734   -0.014785;
    0.28749    0.018345    -0.20731     0.33358     0.12024     -0.0572   -0.013198     0.12304    0.054919;
    0.23993    0.099751    0.014506     0.36062     0.24768     0.13565    -0.25311   -0.039791    -0.14645;
    0.23556   0.0027275    -0.17601     0.44923   -0.080859    -0.24844     0.27293     0.13178     0.20235;
    0.26637    0.064749   -0.026208     0.41657     0.26977     0.15961   -0.021407    -0.22967    -0.12554;
    0.14766    -0.12468    -0.23034     0.57417     0.29383     0.12719    -0.18644   -0.024054    -0.10525;
    0.14175     0.10462    0.082239     0.28293     0.21178    0.085909   -0.031176   -0.072147   -0.051662;
    0.013495    -0.52429    0.065994     0.71303    -0.11141    -0.13972    -0.11157     0.35349     0.12096;
    0.22088   -0.073993    -0.25745     0.15413  -0.0059325     0.26648    -0.13681      0.2036    0.033395;
    0.16983     -0.1851    -0.29542     0.18871    -0.10648    0.010258    -0.23754      0.5727     0.16758;
    -0.057534     -0.6322    -0.22756     0.91184    0.014331    0.078708    -0.44855     0.40813   -0.020207;
    0.27307    0.077132   -0.030508     0.23787     0.13765    0.034749    -0.18675     0.14995   -0.018399;
    0.2902    0.095351   -0.029653     0.37534     0.23559    -0.10119   -0.096856    0.045661   -0.025598;
    0.26023    -0.37775    -0.79312     0.78627  -0.0026396    -0.11169    -0.31904     0.54128     0.11112;
    0.22756    -0.10341    -0.16336     0.29847    0.040471   -0.010275    -0.14928     0.30883    0.079775;
    -0.057089    -0.43575   -0.042382     0.60425     0.17545    -0.22123    -0.19657     0.39441    0.098918;
    -0.0012061    -0.57224     0.27384      0.8718     0.28046    -0.38236   -0.023033      0.1049    0.040934;
    0.26266     0.12403    0.090753     0.27457     0.16256      0.1561     -0.1895   -0.024536    -0.10702;
    0.62597    -0.02687    -0.31096     0.70428     0.47757   -0.064763    -0.11043    -0.28478    -0.19761;
    0.16611    -0.20336    -0.22417      0.5228   -0.087055   -0.069516   -0.035887     0.27277     0.11844;
    0.16205    -0.62921      0.1881     0.76128     0.47147    -0.45929    -0.13158     0.16559    0.017009;
    0.19802    -0.32911    -0.76658     0.36651     -0.3525     0.16509   -0.042223     0.53066     0.24422;
    -0.0012216    -0.41997    -0.14733     0.19007    -0.21902    0.024906   -0.064091     0.59126     0.26358;
    0.18085    -0.02183   -0.044829     0.26396   -0.010614   -0.090958   -0.068258     0.27874     0.10524;
    0.14922   -0.076021    -0.18537     0.30414   -0.073358   -0.073196   -0.042457     0.33178     0.14466;
    0.40013   -0.044212    -0.22352     0.62012     0.38603   0.0030875     -0.3568   -0.026908    -0.19186;
    0.2078   -0.031992     -0.1771       0.431    0.059147   -0.032707    -0.12203     0.17555     0.02676;
    0.29014    0.054438   -0.055823     0.39417     0.16091   -0.051003   -0.092294    0.035882   -0.028206;
    0.32441    -0.04601    -0.38451     0.24973    -0.16725    -0.15414   -0.062069     0.47429     0.20611;
    0.25158    0.036465   -0.067955     0.23562    0.041077    0.057653    -0.39874     0.32238   -0.038184;
    0.078966    -0.33899    -0.48363     0.64464    0.015475    -0.18017    -0.30636     0.55694     0.12529;
    0.21323    -0.26187    -0.62939     0.71174    -0.25568    -0.37914  -0.0075619     0.60252     0.29748;
    0.33991    0.010815    -0.22768     0.54895      0.1315    -0.03501    -0.32608     0.13505   -0.095515;
    0.25543    -0.11896    -0.41896     0.40797    -0.14288    0.037621    -0.40815     0.50527    0.048558;
    0.095215    -0.22995    -0.37361     0.18628    -0.21169      0.1933    -0.30256     0.56965     0.13355;
    0.22972    -0.21972    -0.58845     0.54486    -0.19593   -0.012987    -0.25548      0.5167     0.13061;
    0.29859    -0.23729    -0.20209     0.61047    0.054714    -0.31521    -0.12613     0.33693      0.1054;
    0.08235    -0.19025    -0.32491     0.38661    -0.15369   -0.031579      -0.189     0.50433     0.15767;
    0.0058291    -0.68285    -0.52737     0.45885    -0.29655    -0.30403   -0.085125     0.94472      0.4298;
    0.30419     0.01063    0.058355     0.56898     0.17021    0.035752    -0.37969    0.033055    -0.17332;
    0.19778    -0.13884    -0.34315     0.02283    -0.30752    0.053492   -0.022606      0.5761     0.27675;
    0.38361    -0.10607    -0.51002     0.55997   -0.030459    -0.17174    -0.11495     0.32748     0.10626;
    0.17975    -0.13805    -0.25153     0.51798    0.081674   -0.096155    -0.19342     0.28245    0.044517;
    0.20875     -0.2732    -0.36572     0.43291    -0.11802    -0.34264    0.048252     0.53615      0.2922;
    0.19995    -0.29111    -0.36318     0.44765   -0.088973    -0.29626      0.2236     0.33137     0.27749;
    0.33155    -0.38191    -0.58701     0.59399    -0.23832    -0.16711    -0.11915      0.5376     0.20922;
    0.32306    -0.57066    -0.78986     0.26041    -0.79761    -0.23923    -0.68559      1.6172     0.46579];
    Rules=[9  11  13  15  17  19  21  23;
    9  11  13  15  17  19  21  24;
    9  11  13  15  17  19  22  23;
    9  11  13  15  17  19  22  24;
    9  11  13  15  17  20  21  23;
    9  11  13  15  17  20  21  24;
    9  11  13  15  17  20  22  23;
    9  11  13  15  17  20  22  24;
    9  11  13  15  18  19  21  23;
    9  11  13  15  18  19  21  24;
    9  11  13  15  18  19  22  23;
    9  11  13  15  18  19  22  24;
    9  11  13  15  18  20  21  23;
    9  11  13  15  18  20  21  24;
    9  11  13  15  18  20  22  23;
    9  11  13  15  18  20  22  24;
    9  11  13  16  17  19  21  23;
    9  11  13  16  17  19  21  24;
    9  11  13  16  17  19  22  23;
    9  11  13  16  17  19  22  24;
    9  11  13  16  17  20  21  23;
    9  11  13  16  17  20  21  24;
    9  11  13  16  17  20  22  23;
    9  11  13  16  17  20  22  24;
    9  11  13  16  18  19  21  23;
    9  11  13  16  18  19  21  24;
    9  11  13  16  18  19  22  23;
    9  11  13  16  18  19  22  24;
    9  11  13  16  18  20  21  23;
    9  11  13  16  18  20  21  24;
    9  11  13  16  18  20  22  23;
    9  11  13  16  18  20  22  24;
    9  11  14  15  17  19  21  23;
    9  11  14  15  17  19  21  24;
    9  11  14  15  17  19  22  23;
    9  11  14  15  17  19  22  24;
    9  11  14  15  17  20  21  23;
    9  11  14  15  17  20  21  24;
    9  11  14  15  17  20  22  23;
    9  11  14  15  17  20  22  24;
    9  11  14  15  18  19  21  23;
    9  11  14  15  18  19  21  24;
    9  11  14  15  18  19  22  23;
    9  11  14  15  18  19  22  24;
    9  11  14  15  18  20  21  23;
    9  11  14  15  18  20  21  24;
    9  11  14  15  18  20  22  23;
    9  11  14  15  18  20  22  24;
    9  11  14  16  17  19  21  23;
    9  11  14  16  17  19  21  24;
    9  11  14  16  17  19  22  23;
    9  11  14  16  17  19  22  24;
    9  11  14  16  17  20  21  23;
    9  11  14  16  17  20  21  24;
    9  11  14  16  17  20  22  23;
    9  11  14  16  17  20  22  24;
    9  11  14  16  18  19  21  23;
    9  11  14  16  18  19  21  24;
    9  11  14  16  18  19  22  23;
    9  11  14  16  18  19  22  24;
    9  11  14  16  18  20  21  23;
    9  11  14  16  18  20  21  24;
    9  11  14  16  18  20  22  23;
    9  11  14  16  18  20  22  24;
    9  12  13  15  17  19  21  23;
    9  12  13  15  17  19  21  24;
    9  12  13  15  17  19  22  23;
    9  12  13  15  17  19  22  24;
    9  12  13  15  17  20  21  23;
    9  12  13  15  17  20  21  24;
    9  12  13  15  17  20  22  23;
    9  12  13  15  17  20  22  24;
    9  12  13  15  18  19  21  23;
    9  12  13  15  18  19  21  24;
    9  12  13  15  18  19  22  23;
    9  12  13  15  18  19  22  24;
    9  12  13  15  18  20  21  23;
    9  12  13  15  18  20  21  24;
    9  12  13  15  18  20  22  23;
    9  12  13  15  18  20  22  24;
    9  12  13  16  17  19  21  23;
    9  12  13  16  17  19  21  24;
    9  12  13  16  17  19  22  23;
    9  12  13  16  17  19  22  24;
    9  12  13  16  17  20  21  23;
    9  12  13  16  17  20  21  24;
    9  12  13  16  17  20  22  23;
    9  12  13  16  17  20  22  24;
    9  12  13  16  18  19  21  23;
    9  12  13  16  18  19  21  24;
    9  12  13  16  18  19  22  23;
    9  12  13  16  18  19  22  24;
    9  12  13  16  18  20  21  23;
    9  12  13  16  18  20  21  24;
    9  12  13  16  18  20  22  23;
    9  12  13  16  18  20  22  24;
    9  12  14  15  17  19  21  23;
    9  12  14  15  17  19  21  24;
    9  12  14  15  17  19  22  23;
    9  12  14  15  17  19  22  24;
    9  12  14  15  17  20  21  23;
    9  12  14  15  17  20  21  24;
    9  12  14  15  17  20  22  23;
    9  12  14  15  17  20  22  24;
    9  12  14  15  18  19  21  23;
    9  12  14  15  18  19  21  24;
    9  12  14  15  18  19  22  23;
    9  12  14  15  18  19  22  24;
    9  12  14  15  18  20  21  23;
    9  12  14  15  18  20  21  24;
    9  12  14  15  18  20  22  23;
    9  12  14  15  18  20  22  24;
    9  12  14  16  17  19  21  23;
    9  12  14  16  17  19  21  24;
    9  12  14  16  17  19  22  23;
    9  12  14  16  17  19  22  24;
    9  12  14  16  17  20  21  23;
    9  12  14  16  17  20  21  24;
    9  12  14  16  17  20  22  23;
    9  12  14  16  17  20  22  24;
    9  12  14  16  18  19  21  23;
    9  12  14  16  18  19  21  24;
    9  12  14  16  18  19  22  23;
    9  12  14  16  18  19  22  24;
    9  12  14  16  18  20  21  23;
    9  12  14  16  18  20  21  24;
    9  12  14  16  18  20  22  23;
    9  12  14  16  18  20  22  24;
    10  11  13  15  17  19  21  23;
    10  11  13  15  17  19  21  24;
    10  11  13  15  17  19  22  23;
    10  11  13  15  17  19  22  24;
    10  11  13  15  17  20  21  23;
    10  11  13  15  17  20  21  24;
    10  11  13  15  17  20  22  23;
    10  11  13  15  17  20  22  24;
    10  11  13  15  18  19  21  23;
    10  11  13  15  18  19  21  24;
    10  11  13  15  18  19  22  23;
    10  11  13  15  18  19  22  24;
    10  11  13  15  18  20  21  23;
    10  11  13  15  18  20  21  24;
    10  11  13  15  18  20  22  23;
    10  11  13  15  18  20  22  24;
    10  11  13  16  17  19  21  23;
    10  11  13  16  17  19  21  24;
    10  11  13  16  17  19  22  23;
    10  11  13  16  17  19  22  24;
    10  11  13  16  17  20  21  23;
    10  11  13  16  17  20  21  24;
    10  11  13  16  17  20  22  23;
    10  11  13  16  17  20  22  24;
    10  11  13  16  18  19  21  23;
    10  11  13  16  18  19  21  24;
    10  11  13  16  18  19  22  23;
    10  11  13  16  18  19  22  24;
    10  11  13  16  18  20  21  23;
    10  11  13  16  18  20  21  24;
    10  11  13  16  18  20  22  23;
    10  11  13  16  18  20  22  24;
    10  11  14  15  17  19  21  23;
    10  11  14  15  17  19  21  24;
    10  11  14  15  17  19  22  23;
    10  11  14  15  17  19  22  24;
    10  11  14  15  17  20  21  23;
    10  11  14  15  17  20  21  24;
    10  11  14  15  17  20  22  23;
    10  11  14  15  17  20  22  24;
    10  11  14  15  18  19  21  23;
    10  11  14  15  18  19  21  24;
    10  11  14  15  18  19  22  23;
    10  11  14  15  18  19  22  24;
    10  11  14  15  18  20  21  23;
    10  11  14  15  18  20  21  24;
    10  11  14  15  18  20  22  23;
    10  11  14  15  18  20  22  24;
    10  11  14  16  17  19  21  23;
    10  11  14  16  17  19  21  24;
    10  11  14  16  17  19  22  23;
    10  11  14  16  17  19  22  24;
    10  11  14  16  17  20  21  23;
    10  11  14  16  17  20  21  24;
    10  11  14  16  17  20  22  23;
    10  11  14  16  17  20  22  24;
    10  11  14  16  18  19  21  23;
    10  11  14  16  18  19  21  24;
    10  11  14  16  18  19  22  23;
    10  11  14  16  18  19  22  24;
    10  11  14  16  18  20  21  23;
    10  11  14  16  18  20  21  24;
    10  11  14  16  18  20  22  23;
    10  11  14  16  18  20  22  24;
    10  12  13  15  17  19  21  23;
    10  12  13  15  17  19  21  24;
    10  12  13  15  17  19  22  23;
    10  12  13  15  17  19  22  24;
    10  12  13  15  17  20  21  23;
    10  12  13  15  17  20  21  24;
    10  12  13  15  17  20  22  23;
    10  12  13  15  17  20  22  24;
    10  12  13  15  18  19  21  23;
    10  12  13  15  18  19  21  24;
    10  12  13  15  18  19  22  23;
    10  12  13  15  18  19  22  24;
    10  12  13  15  18  20  21  23;
    10  12  13  15  18  20  21  24;
    10  12  13  15  18  20  22  23;
    10  12  13  15  18  20  22  24;
    10  12  13  16  17  19  21  23;
    10  12  13  16  17  19  21  24;
    10  12  13  16  17  19  22  23;
    10  12  13  16  17  19  22  24;
    10  12  13  16  17  20  21  23;
    10  12  13  16  17  20  21  24;
    10  12  13  16  17  20  22  23;
    10  12  13  16  17  20  22  24;
    10  12  13  16  18  19  21  23;
    10  12  13  16  18  19  21  24;
    10  12  13  16  18  19  22  23;
    10  12  13  16  18  19  22  24;
    10  12  13  16  18  20  21  23;
    10  12  13  16  18  20  21  24;
    10  12  13  16  18  20  22  23;
    10  12  13  16  18  20  22  24;
    10  12  14  15  17  19  21  23;
    10  12  14  15  17  19  21  24;
    10  12  14  15  17  19  22  23;
    10  12  14  15  17  19  22  24;
    10  12  14  15  17  20  21  23;
    10  12  14  15  17  20  21  24;
    10  12  14  15  17  20  22  23;
    10  12  14  15  17  20  22  24;
    10  12  14  15  18  19  21  23;
    10  12  14  15  18  19  21  24;
    10  12  14  15  18  19  22  23;
    10  12  14  15  18  19  22  24;
    10  12  14  15  18  20  21  23;
    10  12  14  15  18  20  21  24;
    10  12  14  15  18  20  22  23;
    10  12  14  15  18  20  22  24;
    10  12  14  16  17  19  21  23;
    10  12  14  16  17  19  21  24;
    10  12  14  16  17  19  22  23;
    10  12  14  16  17  19  22  24;
    10  12  14  16  17  20  21  23;
    10  12  14  16  17  20  21  24;
    10  12  14  16  17  20  22  23;
    10  12  14  16  17  20  22  24;
    10  12  14  16  18  19  21  23;
    10  12  14  16  18  19  21  24;
    10  12  14  16  18  19  22  23;
    10  12  14  16  18  19  22  24;
    10  12  14  16  18  20  21  23;
    10  12  14  16  18  20  21  24;
    10  12  14  16  18  20  22  23;
    10  12  14  16  18  20  22  24];

    for i=1:NumData
        Nodes(1:NumInputs,1)=inputs(i,:)';
        Nodes(1:NumInputs,2)=inputs(i,:)';

        for j=1:NumInputs
            for k=1:NumMF
                ind=NumInputs+(j-1)*NumMF+k;
                x = Nodes(j,1);
                b = MFparams((j-1)*NumMF+k,3);
                c = MFparams((j-1)*NumMF+k,4);
                ai = MFparams((j-1)*NumMF+k,1);
                tmp1i = (x - c)/ai;
                if tmp1i == 0
                    tmp2i=0;
                else
                    tmp2i = (tmp1i*tmp1i)^b;
                end
                Nodes(ind,1)=MFparams((j-1)*NumMF+k,5)/(1+ tmp2i);
                as = MFparams((j-1)*NumMF+k,2);
                tmp1s = (x - c)/as;
                if tmp1s == 0
                    tmp2s=0;
                else
                    tmp2s = (tmp1s*tmp1s)^b;
                end
                Nodes(ind,2)=1/(1+ tmp2s);
            end
        end

        st=NumInputs+NumInputs*NumMF;
        for j=st+1:st+NumRules
            tmpi=cumprod(Nodes(Rules(j-st,:)',1));
            tmps=cumprod(Nodes(Rules(j-st,:)',2));
            Nodes(j,1)=tmpi(end);
            Nodes(j,2)=tmps(end);
        end

        st=NumInputs+NumInputs*NumMF;
        wi=Nodes(st+1:st+NumRules,1)';
        ws=Nodes(st+1:st+NumRules,2)';
        [wi,O1]=sort(wi);
        ws=sort(ws);
        wn = (wi+ws)/2;
        yi=sum(wi.*wn)/sum(wn);
        ys=sum(ws.*wn)/sum(wn);
        for j=1:NumRules-1
            if wi(j)<=yi && yi<=wi(j+1)
               l=j;
            else
                l=0;
            end
            if ws(j)<=ys && ys<=ws(j+1)
               r=j;
             else
                r=0;
            end
        end
        Xl=[ws(1:l) wi(l+1:NumRules)]/sum([ws(1:l) wi(l+1:NumRules)]);
        Xr=[wi(1:r) ws(r+1:NumRules)]/sum([wi(1:r) ws(r+1:NumRules)]);
        X=(Xl+Xr)/2;
        X=X(O1);
        st=NumInputs+NumInputs*NumMF+NumRules;
        Nodes(st+1:st+NumRules,1)=X;
        Nodes(st+1:st+NumRules,2)=X;

        st=NumInputs+NumInputs*NumMF+2*NumRules;
        inp=Nodes(1:NumInputs,1)';
        for j=1:NumRules
            wn=Nodes(j+st-NumRules,1);
            Nodes(j+st,1)=wn*(sum(Cparams(j,1:end-1).*inp)+Cparams(j,end));
        end

        Nodes(end,1)=sum(Nodes(end-NumRules:end-1,1));
        y(i,1)=Nodes(end,1);
    end
end
